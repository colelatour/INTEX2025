<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <title>Dashboard - Ella Rises</title>
    <link rel="icon" type="image/x-icon" href="/assets/favicon.ico" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              ella: {
                'light-blue': '#99B7C6',
                'purple': '#978Ec4',
                'off-white': '#F9F5EA',
                'light-pink': '#FFD8D1',
                'pink': '#F9AFB1',
                'green': '#9AB59D',
                'dark-gray': '#3A3F3B',
                'orange': '#F4B092',
                'red': '#CE325B',
              }
            },
            fontFamily: {
              serif: ['"DM Serif Display"', 'serif'],
              sans: ['"Montserrat"', 'sans-serif'],
            },
            animation: {
              'fade-in': 'fadeIn 0.8s ease-out forwards',
              'float': 'float 6s ease-in-out infinite',
            },
            keyframes: {
              fadeIn: {
                '0%': { opacity: '0', transform: 'translateY(20px)' },
                '100%': { opacity: '1', transform: 'translateY(0)' },
              },
              float: {
                '0%, 100%': { transform: 'translateY(0)' },
                '50%': { transform: 'translateY(-10px)' },
              },
            }
          }
        }
      }
    </script>
    <style>
      body {
        background-color: #F9F5EA;
        font-family: 'Montserrat', sans-serif;
      }
    </style>
</head>

<body class="font-sans selection:bg-ella-pink selection:text-white">
    <!-- Navigation-->
    <nav class="sticky top-0 z-50 backdrop-blur-md bg-white/70 border-b border-white/20 shadow-sm">
        <div class="container mx-auto px-4 lg:px-8">
            <div class="flex items-center justify-between h-20">
                <a href="/" class="flex items-center gap-2 group">
                    <img src="/assets/img/EllaRises.png" alt="Ella Rises Logo" class="w-12 h-12 transition-transform group-hover:scale-110" />
                    <span class="font-serif text-2xl font-bold tracking-wide text-ella-dark-gray">
                        Ella<span class="text-ella-pink">Rises</span>
                    </span>
                </a>

                <div class="hidden lg:flex items-center gap-8">
                    <a href="/" class="text-sm tracking-widest uppercase text-ella-dark-gray hover:text-ella-pink transition-colors">Home</a>
                    <a href="/dashboard" class="text-sm tracking-widest uppercase text-ella-pink font-bold transition-colors">Dashboard</a>
                    <a href="/#our-impact" class="text-sm tracking-widest uppercase text-ella-dark-gray hover:text-ella-pink transition-colors">Impact</a>
                    <a href="/donations/userdonor/add" class="text-sm tracking-widest uppercase text-ella-dark-gray hover:text-ella-pink transition-colors">Donate</a>
                </div>

                <div class="hidden lg:flex items-center gap-4">
                    <% if (user) { %>
                        <span class="text-sm font-medium text-ella-dark-gray/80">
                            Hi, <%= user.firstName ? user.firstName.charAt(0).toUpperCase() + user.firstName.slice(1) : '' %>
                        </span>
                        <a href="/logout" class="px-4 py-1.5 text-sm rounded-xl font-semibold transition-all duration-300 bg-transparent text-ella-dark-gray border-2 border-ella-dark-gray hover:bg-ella-dark-gray hover:text-white">
                            Logout
                        </a>
                    <% } else { %>
                        <a href="/login" class="px-6 py-2 text-sm rounded-xl font-semibold transition-all duration-300 bg-ella-pink text-ella-dark-gray hover:bg-white border-2 border-ella-pink shadow-md">
                            Login
                        </a>
                    <% } %>
                </div>

                <button id="mobileMenuBtn" class="lg:hidden p-2 text-ella-dark-gray hover:text-ella-pink transition-colors">
                    <i class="bi bi-list text-2xl" id="menuIcon"></i>
                </button>
            </div>
        </div>

        <div id="mobileMenu" class="lg:hidden overflow-hidden transition-all duration-300 ease-in-out bg-white/95 backdrop-blur-xl border-t border-ella-light-pink/30 max-h-0">
            <div class="px-4 py-6 space-y-4 flex flex-col items-center">
                <a href="/" class="text-lg font-medium">Home</a>
                <a href="/dashboard" class="text-lg font-medium">Dashboard</a>
                <a href="/#our-impact" class="text-lg font-medium">Impact</a>
                <div class="pt-4 border-t border-gray-100 w-full flex flex-col items-center gap-3">
                    <% if (user) { %>
                        <span class="text-sm text-gray-500">Logged in as <%= user.firstName %></span>
                        <a href="/logout" class="w-full max-w-xs text-center px-6 py-2.5 rounded-xl font-semibold bg-transparent text-ella-dark-gray border-2 border-ella-dark-gray hover:bg-ella-dark-gray hover:text-white">
                            Logout
                        </a>
                    <% } else { %>
                        <a href="/login" class="w-full max-w-xs text-center px-6 py-2.5 rounded-xl font-semibold bg-ella-pink text-ella-dark-gray border-2 border-ella-pink">
                            Login
                        </a>
                    <% } %>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container mx-auto px-4 py-16 animate-fade-in">
        <div class="mb-12">
            <h1 class="font-serif text-4xl text-ella-dark-gray mb-2">Dashboard</h1>
            <p class="text-gray-500">Welcome back, <%= user ? user.firstName : 'Guest' %>. Here's what's happening today.</p>
        </div>

        <% if (message) { %>
            <div class="bg-blue-50 border border-blue-200 text-blue-700 px-4 py-3 rounded-xl mb-8" role="alert">
                <%= message %>
            </div>
        <% } %>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            <% if (user) { %>
            <a href="/participants" class="group">
                <div class="h-full bg-white rounded-3xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 border border-transparent hover:border-gray-100 transform hover:-translate-y-2 relative overflow-hidden">
                    <div class="absolute -right-10 -top-10 w-40 h-40 rounded-full opacity-10 bg-ella-pink transition-colors duration-300"></div>
                    <div class="flex flex-col items-center text-center h-full">
                        <div class="w-20 h-20 rounded-2xl bg-gray-50 flex items-center justify-center mb-6 shadow-inner transition-colors duration-300 group-hover:bg-ella-pink group-hover:text-white">
                            <i class="bi bi-people-fill text-4xl text-ella-pink group-hover:text-white transition-colors duration-300 animate-float"></i>
                        </div>
                        <h3 class="font-serif text-2xl mb-3 text-ella-dark-gray">Participants</h3>
                        <p class="text-gray-500 text-sm mb-8 flex-grow">
                            <% if (user.role === 'manager') { %>
                                View and manage participants data.
                            <% } else { %>
                                View participant directory.
                            <% } %>
                        </p>
                        <span class="inline-flex items-center gap-2 font-bold text-sm uppercase tracking-wider text-ella-pink group-hover:opacity-80">
                            Access Module <i class="bi bi-arrow-right"></i>
                        </span>
                    </div>
                </div>
            </a>
            <% } %>

            <a href="/events" class="group">
                <div class="h-full bg-white rounded-3xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 border border-transparent hover:border-gray-100 transform hover:-translate-y-2 relative overflow-hidden">
                    <div class="absolute -right-10 -top-10 w-40 h-40 rounded-full opacity-10 bg-ella-purple transition-colors duration-300"></div>
                    <div class="flex flex-col items-center text-center h-full">
                        <div class="w-20 h-20 rounded-2xl bg-gray-50 flex items-center justify-center mb-6 shadow-inner transition-colors duration-300 group-hover:bg-ella-purple group-hover:text-white">
                            <i class="bi bi-calendar-event-fill text-4xl text-ella-purple group-hover:text-white transition-colors duration-300 animate-float"></i>
                        </div>
                        <h3 class="font-serif text-2xl mb-3 text-ella-dark-gray">Events</h3>
                        <p class="text-gray-500 text-sm mb-8 flex-grow">Check upcoming events and schedules.</p>
                        <span class="inline-flex items-center gap-2 font-bold text-sm uppercase tracking-wider text-ella-purple group-hover:opacity-80">
                            Access Module <i class="bi bi-arrow-right"></i>
                        </span>
                    </div>
                </div>
            </a>

            <% if (user) { %>
            <a href="/surveys" class="group">
                <div class="h-full bg-white rounded-3xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 border border-transparent hover:border-gray-100 transform hover:-translate-y-2 relative overflow-hidden">
                    <div class="absolute -right-10 -top-10 w-40 h-40 rounded-full opacity-10 bg-ella-light-blue transition-colors duration-300"></div>
                    <div class="flex flex-col items-center text-center h-full">
                        <div class="w-20 h-20 rounded-2xl bg-gray-50 flex items-center justify-center mb-6 shadow-inner transition-colors duration-300 group-hover:bg-ella-light-blue group-hover:text-white">
                            <i class="bi bi-card-checklist text-4xl text-ella-light-blue group-hover:text-white transition-colors duration-300 animate-float"></i>
                        </div>
                        <h3 class="font-serif text-2xl mb-3 text-ella-dark-gray">Surveys</h3>
                        <p class="text-gray-500 text-sm mb-8 flex-grow">
                            <% if (user.role === 'manager') { %>
                                View and manage surveys.
                            <% } else { %>
                                View surveys.
                            <% } %>
                        </p>
                        <span class="inline-flex items-center gap-2 font-bold text-sm uppercase tracking-wider text-ella-light-blue group-hover:opacity-80">
                            Access Module <i class="bi bi-arrow-right"></i>
                        </span>
                    </div>
                </div>
            </a>
            <% } %>

            <a href="/milestones" class="group">
                <div class="h-full bg-white rounded-3xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 border border-transparent hover:border-gray-100 transform hover:-translate-y-2 relative overflow-hidden">
                    <div class="absolute -right-10 -top-10 w-40 h-40 rounded-full opacity-10 bg-ella-orange transition-colors duration-300"></div>
                    <div class="flex flex-col items-center text-center h-full">
                        <div class="w-20 h-20 rounded-2xl bg-gray-50 flex items-center justify-center mb-6 shadow-inner transition-colors duration-300 group-hover:bg-ella-orange group-hover:text-white">
                            <i class="bi bi-trophy-fill text-4xl text-ella-orange group-hover:text-white transition-colors duration-300 animate-float"></i>
                        </div>
                        <h3 class="font-serif text-2xl mb-3 text-ella-dark-gray">Milestones</h3>
                        <p class="text-gray-500 text-sm mb-8 flex-grow">
                            <% if (user && user.role === 'manager') { %>
                                View and manage milestones.
                            <% } else { %>
                                View milestones.
                            <% } %>
                        </p>
                        <span class="inline-flex items-center gap-2 font-bold text-sm uppercase tracking-wider text-ella-orange group-hover:opacity-80">
                            Access Module <i class="bi bi-arrow-right"></i>
                        </span>
                    </div>
                </div>
            </a>

            <a href="/donations" class="group">
                <div class="h-full bg-white rounded-3xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 border border-transparent hover:border-gray-100 transform hover:-translate-y-2 relative overflow-hidden">
                    <div class="absolute -right-10 -top-10 w-40 h-40 rounded-full opacity-10 bg-ella-green transition-colors duration-300"></div>
                    <div class="flex flex-col items-center text-center h-full">
                        <div class="w-20 h-20 rounded-2xl bg-gray-50 flex items-center justify-center mb-6 shadow-inner transition-colors duration-300 group-hover:bg-ella-green group-hover:text-white">
                            <i class="bi bi-cash-coin text-4xl text-ella-green group-hover:text-white transition-colors duration-300 animate-float"></i>
                        </div>
                        <h3 class="font-serif text-2xl mb-3 text-ella-dark-gray">Donations</h3>
                        <p class="text-gray-500 text-sm mb-8 flex-grow">
                            <% if (user && user.role === 'manager') { %>
                                View and manage donations.
                            <% } else { %>
                                View donations.
                            <% } %>
                        </p>
                        <span class="inline-flex items-center gap-2 font-bold text-sm uppercase tracking-wider text-ella-green group-hover:opacity-80">
                            Access Module <i class="bi bi-arrow-right"></i>
                        </span>
                    </div>
                </div>
            </a>

            <% if (user && user.role === 'manager') { %>
            <a href="/users" class="group">
                <div class="h-full bg-white rounded-3xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 border border-transparent hover:border-gray-100 transform hover:-translate-y-2 relative overflow-hidden">
                    <div class="absolute -right-10 -top-10 w-40 h-40 rounded-full opacity-10 bg-ella-red transition-colors duration-300"></div>
                    <div class="flex flex-col items-center text-center h-full">
                        <div class="w-20 h-20 rounded-2xl bg-gray-50 flex items-center justify-center mb-6 shadow-inner transition-colors duration-300 group-hover:bg-ella-red group-hover:text-white">
                            <i class="bi bi-person-badge-fill text-4xl text-ella-red group-hover:text-white transition-colors duration-300 animate-float"></i>
                        </div>
                        <h3 class="font-serif text-2xl mb-3 text-ella-dark-gray">Users</h3>
                        <p class="text-gray-500 text-sm mb-8 flex-grow">View and manage users.</p>
                        <span class="inline-flex items-center gap-2 font-bold text-sm uppercase tracking-wider text-ella-red group-hover:opacity-80">
                            Access Module <i class="bi bi-arrow-right"></i>
                        </span>
                    </div>
                </div>
            </a>
            <% } %>
        </div>
    </div>

    <!-- Footer-->
    <footer class="bg-ella-dark-gray text-white pt-16 pb-8 relative overflow-hidden mt-12">
        <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-ella-light-blue via-ella-pink to-ella-purple"></div>
        <div class="container mx-auto px-4 text-center">
            <div class="flex flex-col md:flex-row justify-between items-center mb-12 gap-6">
                <div class="text-left">
                    <h3 class="font-serif text-2xl mb-2 text-ella-pink">Ella Rises</h3>
                    <p class="text-gray-400 max-w-xs text-sm">Empowering young women through education, culture, and community.</p>
                </div>
                <div class="flex gap-8">
                    <a href="https://www.facebook.com/share/1ALmigc75W/?mibextid=wwXIfr" aria-label="Facebook" class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-ella-pink hover:text-ella-dark-gray transition-all duration-300">
                        <i class="bi bi-facebook text-lg"></i>
                    </a>
                    <a href="https://www.instagram.com/ellarises?igsh=YTVtZzBrbDJ0eTBx" aria-label="Instagram" class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-ella-pink hover:text-ella-dark-gray transition-all duration-300">
                        <i class="bi bi-instagram text-lg"></i>
                    </a>
                </div>
            </div>
            <div class="border-t border-white/10 pt-8 flex flex-col md:flex-row justify-between items-center text-sm text-gray-400">
                <p>&copy; 2025 Ella Rises. All Rights Reserved.</p>
                <div class="flex gap-6 mt-4 md:mt-0">
                    <a href="https://www.ellarises.org/team" class="hover:text-white transition-colors">About</a>
                    <a href="https://www.ellarises.org/contact-us" class="hover:text-white transition-colors">Contact</a>
                    <a href="/teapot" class="hover:text-white transition-colors">Teapot</a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const mobileMenu = document.getElementById('mobileMenu');
        const menuIcon = document.getElementById('menuIcon');
        
        mobileMenuBtn.addEventListener('click', () => {
            const isOpen = mobileMenu.style.maxHeight && mobileMenu.style.maxHeight !== '0px';
            mobileMenu.style.maxHeight = isOpen ? '0' : '400px';
            menuIcon.classList.toggle('bi-list');
            menuIcon.classList.toggle('bi-x-lg');
        });
    </script>
</body>
</html>
